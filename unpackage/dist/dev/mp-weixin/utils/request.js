"use strict";const _=require("../common/vendor.js"),s=require("../config/index.js"),T=require("../api/interceptors/request-interceptor.js"),l=require("../api/interceptors/response-interceptor.js");function m(o){const{url:c,method:i="GET",data:u,headers:a,timeout:p=s.TIMEOUT,cancelToken:n}=T.requestInterceptor(o);return new Promise((q,r)=>{const d=_.index.request({url:s.BASE_URL+c,method:i,data:u,header:{...s.CUSTOM_HEADERS,...a},timeout:p,success:async e=>{try{const t=await l.responseInterceptor(e);q(t)}catch(t){r(t)}},fail:e=>{r(e)}});n&&(n.cancel=e=>{d.abort(),r(e)})})}exports.request=m;

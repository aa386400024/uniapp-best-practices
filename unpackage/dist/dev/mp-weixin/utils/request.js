"use strict";const f=require("../common/vendor.js"),s=require("../config/index.js"),m=require("../api/interceptors/request-interceptor.js"),l=require("../api/interceptors/response-interceptor.js");function _(o){const{url:c,method:i="GET",data:a,headers:u,timeout:p=s.config.constants.timeout,cancelToken:n}=m.requestInterceptor(o);return new Promise((q,r)=>{const d=f.index.request({url:s.config.app.apiBaseUrl+c,method:i,data:a,header:{...s.config.constants.customHeaders,...u},timeout:p,success:async e=>{try{const t=await l.responseInterceptor(e);q(t)}catch(t){r(t)}},fail:e=>{r(e)}});n&&(n.cancel=e=>{d.abort(),r(e)})})}exports.request=_;
